{"version":3,"sources":["utils.js","components/UserContext.js","components/Nav.js","components/buttons/UserButton.js","components/buttons/FavoriteButton.js","components/ArticleCard.js","components/QueryContext.js","components/ArticleList.js","components/TagModal.js","components/buttons/FeedButton.js","pages/Home.js","components/Splash.js","pages/About.js","components/Comment.js","components/buttons/CommentButton.js","components/CommentCard.js","pages/Article.js","components/buttons/FollowButton.js","pages/User.js","pages/Login.js","pages/Profile.js","pages/Settings.js","pages/Editor.js","App.js","serviceWorker.js","index.js"],"names":["DEFAULT_AVATAR","UserContext","createContext","UserProvider","props","useState","user","setUser","fetchApi","endpoint","options","callback","a","async","token","localStorage","getItem","headers","fetch","response","ok","status","removeItem","newRespone","console","error","json","then","catch","e","id","length","resp","Provider","value","children","Nav","userCon","useContext","loggedOut","to","loggedIn","username","onClick","className","style","zIndex","display","border","src","maxHeight","marginRight","alt","type","name","htmlFor","UserButton","image","FavoriteButton","art","article","favorited","favorite","setFavorite","favoritesCount","count","setCount","slug","method","disabled","ArticleCard","tagsText","tagList","reduce","acc","cur","editButton","float","title","Date","createdAt","toLocaleDateString","description","author","QueryContext","QueryProvider","articles","setArticles","articleCount","setDefaults","queryParams","params","setParams","useEffect","query","createQuery","d","articlesCount","param","p","offset","limit","tag","feed","filter","Object","entries","map","join","countMessage","total","ArticleList","setOffset","n","newParams","adjustOffset","message","textAlign","margin","key","maxPage","Math","ceil","currentPage","floor","first","prev","maxOffset","next","last","center","Array","v","i","navButtons","TagModal","tags","setTags","queryContext","closeModal","document","getElementById","checked","updateTag","t","buttonText","FeedButton","Home","Splash","About","content","Comment","comment","deleteButton","window","location","reload","body","CommentButton","placeholder","JSON","stringify","CommentCard","coms","comments","reverse","c","Article","clientUser","setArticle","setComments","match","undefined","FollowButton","profile","following","setFollowing","User","setProfile","bio","maxWidth","Login","authState","setAuthState","errorMessages","setErrorMessages","signup","path","handleResponse","setItem","errors","messages","keys","k","submit","m","loginForm","autoComplete","signupForm","success","form","Profile","Settings","formState","setFormState","email","forEach","f","val","Editor","authError","deleteModal","history","push","width","minHeight","data","tagText","split","App","exact","component","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.796673ac.chunk.js","sourcesContent":["\nexport const API = 'https://conduit.productionready.io/api'\n\nexport const DEFAULT_AVATAR = 'https://static.productionready.io/images/smiley-cyrus.jpg'","import React, { useState, createContext } from 'react'\nimport { API } from '../utils'\n\nexport const UserContext = createContext()\n\nexport const UserProvider = (props) => {\n\n  const [user, setUser] = useState({})\n\n  const fetchApi = async (endpoint, options, callback) => {\n    let token = user.token || localStorage.getItem('token')\n    if (token) {\n      if (!options.headers)\n        options.headers = {}\n      options.headers['Authorization'] = `Token ${token}`\n    }\n\n    const response = await fetch(`${API}/${endpoint}`, options)\n\n    if (!response.ok) {\n      if (response.status === 401 && user.token) {\n        localStorage.removeItem('token')\n        setUser({})\n        // try again in case it was an expired token\n        let newRespone = await fetchApi(endpoint, options, callback)\n        return newRespone\n      }\n      console.error(response)\n    }\n\n\n    response.json()\n      .then(callback)\n      .catch(e => {\n        console.error(e)\n        callback({})\n      })\n  }\n\n\n  const token = localStorage.getItem('token')\n  if (!user.id && token && token.length > 16) {\n    fetchApi('user', {}, resp => {\n      if (resp.user)\n        setUser(resp.user)\n      else\n        localStorage.removeItem('token')\n    })\n  }\n\n  return (\n    <UserContext.Provider value={[user, setUser, fetchApi]}>\n      {props.children}\n    </UserContext.Provider>\n  )\n}","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UserContext } from '../components/UserContext'\n\n\nconst Nav = () => {\n  const userCon = useContext(UserContext)\n  const user = userCon[0]\n  const setUser = userCon[1]\n\n  const loggedOut = (\n    <span>\n      <li><Link to='/signin'>Sign in</Link></li>\n      <li><Link to='/signup'>Sign up</Link></li>\n    </span>\n  )\n\n  const logout = () => {\n    setUser({})\n    localStorage.removeItem('token')\n  }\n  const loggedIn = (\n    <span>\n      <li><Link to='/profile'>{user.username}</Link></li>\n      <li><Link to='/' onClick={logout}>Logout</Link></li>\n    </span>\n  )\n\n  const logoStyle = {\n    maxHeight: '40px',\n    marginRight: '8px'\n  }\n\n  return (\n    <nav className=\"border split-nav\" style={{ zIndex: 1 }}>\n      <div className=\"nav-brand\" style={{ display: 'flex' }}>\n        <Link to='/' style={{ border: 'none' }}>\n          <img src=\"logo.png\" style={logoStyle} alt='logo' />\n        </Link>\n        <h4><Link to='/'>\n          Paper Conduit\n        </Link></h4>\n      </div>\n      <div className=\"collapsible\">\n        <input id=\"collapsible1\" type=\"checkbox\" name=\"collapsible1\"></input>\n        <button>\n          <label htmlFor=\"collapsible1\">\n            <div className=\"bar1\"></div>\n            <div className=\"bar2\"></div>\n            <div className=\"bar3\"></div>\n          </label>\n        </button>\n        <div className=\"collapsible-body\">\n          <ul className=\"inline\">\n            <li><Link to='/about'>About</Link></li>\n            {!user.id ? loggedOut : loggedIn}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  )\n}\nexport default Nav","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { DEFAULT_AVATAR } from '../../utils'\n\nconst UserButton = props => {\n  return (\n    <Link to={`/user/${props.user.username}`} className='paper-btn user-link'>\n      <img className='small-avatar' alt=' '\n        src={props.user.image ? props.user.image : DEFAULT_AVATAR} />\n      <span>{props.user.username}</span>\n    </Link>\n  )\n}\n\nexport default UserButton","import React, { useContext, useState } from 'react'\nimport { UserContext } from '../UserContext'\n\n\nconst FavoriteButton = (props) => {\n  const userCon = useContext(UserContext)\n  const user = userCon[0]\n  const fetchApi = userCon[2]\n\n  const art = props.article\n\n  const [favorite, setFavorite] = useState(art.favorited)\n  const [count, setCount] = useState(art.favoritesCount)\n\n  const toggle = (e) => {\n    fetchApi(`articles/${art.slug}/favorite`, {\n      method: favorite ? 'DELETE' : 'POST',\n    }, resp => {\n      if (resp.article) {\n        setFavorite(resp.article.favorited)\n        setCount(resp.article.favoritesCount)\n      }\n    })\n  }\n\n\n  return (\n    <button className={favorite ? 'btn-primary' : ''}\n      onClick={toggle} disabled={user.id ? false : true}>\n      ♥ ({count})\n  </button >\n  )\n}\n\n\nexport default FavoriteButton","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport UserButton from './buttons/UserButton'\nimport FavoriteButton from './buttons/FavoriteButton'\nimport { UserContext } from './UserContext'\n\nconst ArticleCard = props => {\n  const art = props.article\n  const user = useContext(UserContext)[0]\n\n  let tagsText\n  if (art.tagList.length > 0)\n    tagsText = art.tagList.reduce((acc, cur) => `${acc} #${cur}`, '')\n\n  const editButton = (\n    <Link to={`/editor/${art.slug}`} className='paper-btn' style={{ float: 'right' }}>\n      ✎ Edit\n    </Link >\n  )\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <h4 className='card-title'>{art.title}</h4>\n        <h6 className='card-text'>{new Date(art.createdAt).toLocaleDateString()}</h6>\n        <p className='card-text'>{art.description}</p>\n        <p className='card-text'><small>{tagsText}</small></p>\n        <div className='row flex-spaces'>\n          <Link to={`/article/${art.slug}`} className='paper-btn'>\n            Read me!\n          </Link>\n          <FavoriteButton article={art} />\n          <UserButton user={art.author}></UserButton>\n          {user.username === art.author.username ? editButton : null}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ArticleCard","import React, { useState, useEffect, createContext, useContext } from 'react'\nimport { UserContext } from './UserContext'\n\nexport const QueryContext = createContext()\n\nexport const QueryProvider = (props) => {\n  const fetchApi = useContext(UserContext)[2]\n\n  const [articles, setArticles] = useState([])\n  const [articleCount, setCount] = useState(0)\n  const [params, setParams] = useState(setDefaults(props.queryParams))\n\n  useEffect(() => {\n    let query = createQuery(setDefaults(params))\n    fetchApi(`articles${query}`, {}, d => {\n      setArticles(d.articles)\n      setCount(d.articlesCount)\n    })\n  }, [params, fetchApi])\n\n  return (\n    <QueryContext.Provider value={[params, setParams, articles, articleCount]}>\n      {props.children}\n    </QueryContext.Provider>\n  )\n}\n\nconst setDefaults = param => {\n  const p = param ? param : {}\n  p.offset = p.offset ? p.offset : 0\n  p.limit = p.limit ? p.limit : 10\n  p.author = p.author ? p.author : ''\n  p.tag = p.tag ? p.tag : ''\n  p.favorited = p.favorited ? p.favorited : ''\n  p.feed = p.feed ? true : false\n  return p\n}\n\nconst createQuery = (params) => {\n  const filter = '?' + Object.entries(params).map(e => e.join('=')).join('&')\n\n  if (params.feed)\n    return `/feed${filter}`\n\n  return filter\n}\n","import React, { useContext } from 'react'\nimport ArticleCard from './ArticleCard'\nimport { QueryContext } from './QueryContext'\n\n\nconst ArticleList = (props) => {\n  const [params, setParams, articles, articleCount] = useContext(QueryContext)\n\n  const navButtons = () => {\n    if (articleCount === 0)\n      return null\n\n    const PAGE_SIZE = 10\n    const maxPage = Math.ceil(articleCount / PAGE_SIZE)\n    const currentPage = Math.floor(params.offset / 10) + 1\n\n    let first = (\n      <button className='margin-small' onClick={() => setOffset(0)}\n        disabled={currentPage <= 1}>\n        {'<<'}\n      </button>\n    )\n    let prev = (\n      <button className='margin-small' onClick={() => adjustOffset(-10)}\n        disabled={currentPage <= 1}>\n        {'<'}\n      </button>\n    )\n\n    let maxOffset = Math.ceil(articleCount / 10) * 10 - 10\n    let next = (\n      <button className='margin-small' onClick={() => adjustOffset(10)}\n        disabled={currentPage >= maxPage}>\n        {'>'}\n      </button>\n    )\n    let last = (\n      <button className='margin-small' onClick={() => setOffset(maxOffset)}\n        disabled={currentPage >= maxPage}>\n        {'>>'}\n      </button>\n    )\n\n    let center =\n      (\n        <div style={{ display: 'flex' }}>\n          {Array(...Array(maxPage + 1)).map((v, i) => {\n            const SHOW_AROUND = 3\n            if (i === 0)\n              return null\n            if (i >= currentPage - SHOW_AROUND && i <= currentPage + SHOW_AROUND)\n              return (\n                <button key={i} className={`margin-small btn-small ${i === currentPage ? 'btn-primary' : ''}`}\n                  onClick={() => setOffset((i - 1) * 10)}>\n                  {i}\n                </button>\n              )\n            return null\n          })\n          }\n        </div >\n      )\n\n    return (\n      <div className='squished-buttons'>\n        <div style={{ float: 'left' }}>\n          {first}\n          {prev}\n        </div>\n        {center}\n        <div style={{ float: 'right' }}>\n          {next}\n          {last}\n        </div>\n      </div>\n    )\n  }\n\n  const setOffset = n => {\n    let newParams = { ...params }\n    newParams.offset = n\n    setParams(newParams)\n  }\n\n  const adjustOffset = d => {\n    let newParams = { ...params }\n    newParams.offset += d\n    setParams(newParams)\n  }\n\n  const messageStyle = {\n    textAlign: 'center',\n    margin: '0px'\n  }\n\n  const message = countMessage(params.offset, articles.length, articleCount)\n  return (\n    <div>\n      <h6 style={messageStyle}> {message} </h6>\n      {\n        articles.map(a => (<ArticleCard article={a} key={a.slug} />))\n      }\n      {navButtons()}\n    </div >\n  )\n}\n\n/**\n * Returns the appropiate message.\n * Either `Showing articles x to y of z`\n * or `Showing article x of z`\n* @param {*} offset\n* @param {*} count\n* @param {*} total\n  */\nconst countMessage = (offset, count, total) => {\n  let message = ''\n  if (count === 0)\n    message = 'No articles to show'\n  else if (count === 1)\n    message = `Showing article ${offset + 1} of ${total}`\n  else\n    message = `Showing articles ${offset + 1} to ${offset + 1 + count - 1} of ${total}`\n  return message\n}\n\nexport default ArticleList","import React, { useEffect, useState, useContext } from 'react'\nimport { QueryContext } from './QueryContext'\nimport { UserContext } from './UserContext'\n\nconst TagModal = () => {\n  const fetchApi = useContext(UserContext)[2]\n  const [tags, setTags] = useState([])\n  const queryContext = useContext(QueryContext)\n  const params = queryContext[0]\n  const setParams = queryContext[1]\n\n  useEffect(() => {\n    fetchApi(`tags`, {}, d => {\n      setTags(d.tags)\n    })\n  }, [setTags, fetchApi])\n\n  const closeModal = () => {\n    document.getElementById('tag-modal').checked = false\n  }\n  const updateTag = t => {\n    let newParams = { ...params }\n    newParams.tag = t\n    setParams(newParams)\n  }\n\n  const buttonText = params.tag ? `#${params.tag}` : 'Filter by Tag'\n  return (\n    <div>\n      <div className=\"row flex-spaces child-borders\">\n        <label className=\"paper-btn margin\" htmlFor=\"tag-modal\" disabled={params.feed}>\n          {buttonText}\n        </label>\n      </div>\n      <input className=\"modal-state\" id=\"tag-modal\" type=\"checkbox\" disabled={params.feed} />\n      <div className=\"modal\" style={{ zIndex: 2 }}>\n        <label className=\"modal-bg\" htmlFor=\"tag-modal\"></label>\n        <div className=\"modal-body\">\n          <label className=\"btn-close\" htmlFor=\"tag-modal\">X</label>\n          <h4 className=\"modal-title\">Tags</h4>\n          <h5 className=\"modal-text\">Click on a tag to filter the posts.</h5>\n          {\n            tags.map(t => (\n              <button key={t} className='btn-small margin-small' onClick={() => {\n                updateTag(t)\n                closeModal()\n              }}>\n                {`#${t}`}\n              </button>\n            ))\n          }\n          <button className='btn-small btn-primary margin-small' onClick={() => {\n            updateTag('')\n            closeModal()\n          }}>\n            Clear\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default TagModal","import React, { useContext } from 'react'\nimport { QueryContext } from '../QueryContext'\nimport { UserContext } from '../UserContext'\n\n\nconst FeedButton = () => {\n  const user = useContext(UserContext)[0]\n  const queryContext = useContext(QueryContext)\n  const params = queryContext[0]\n  const setParams = queryContext[1]\n\n  const toggleFeed = () => {\n    setParams({ feed: !params.feed })\n  }\n\n  if (!user.id)\n    return null\n\n  return (\n    <button onClick={toggleFeed} className={params.feed ? 'btn-primary' : ''}>\n      Feed\n    </button>\n  )\n}\n\nexport default FeedButton","import React from 'react'\nimport ArticleList from '../components/ArticleList'\nimport TagModal from '../components/TagModal'\nimport { QueryProvider } from '../components/QueryContext'\nimport FeedButton from '../components/buttons/FeedButton'\n\nconst Home = () => (\n  <div>\n    <QueryProvider>\n      <div className=\"squished-buttons\">\n        <FeedButton />\n        <TagModal />\n      </div>\n      <ArticleList />\n    </QueryProvider>\n  </div>\n)\n\nexport default Home\n","import React from 'react'\n\nconst Splash = (props) => (\n  <div>\n    <h1>{props.title}</h1>\n    {props.children}\n  </div>\n)\n\nexport default Splash ","import React from 'react'\nimport Splash from '../components/Splash'\n\nconst About = () => {\n  const content = (\n    <div>\n      <p>\n        React (or any another popular Front-end framework) was sorely missing from my\n        list of skills. So this project is an attempt to remedy that.\n      </p>\n      <p>\n        I had often seen the RealWorld repo pop up on GitHub and thought it would be\n        a good project to get going on. However, in an effort to reduce the temptation\n        of looking at their already complete React implementation I decided to\n        use an entirely new UI design.\n      </p>\n      <p>\n        As the backend being used is open to everyone for development purposes don't\n        expect to find great content.\n      </p>\n    </div>\n  )\n\n  return (\n    <div>\n      <Splash title='About'>\n        {content}\n      </Splash>\n    </div>\n  )\n}\nexport default About\n","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UserContext } from './UserContext'\n\nconst Comment = ({ article, comment }) => {\n  const userCon = useContext(UserContext)\n  const user = userCon[0]\n  const fetchApi = userCon[2]\n\n  const deleteComment = () => {\n    fetchApi(`articles/${article.slug}/comments/${comment.id}`, {\n      method: 'DELETE',\n    }, resp => {\n      if (resp)\n        window.location.reload()\n    })\n  }\n\n  const deleteButton = (\n    <button className='btn-small' style={{ float: 'right' }}\n      onClick={deleteComment}>\n      Delete\n    </button>\n  )\n\n  return (\n    <div className='padding margin'>\n      {comment.author.username === user.username ? deleteButton : null}\n      <div>\n        {comment.body}\n      </div>\n      <span className=\"article-meta\">\n        Written by <Link to={`/user/${comment.author.username}`}>{comment.author.username} </Link>\n        on {new Date(comment.createdAt).toLocaleDateString()}\n      </span>\n    </div >\n  )\n}\nexport default Comment","import React, { useContext } from 'react'\nimport { UserContext } from '../UserContext'\n\n\nconst CommentButton = (props) => {\n  const userCon = useContext(UserContext)\n  const user = userCon[0]\n  const fetchApi = userCon[2]\n\n  const art = props.article\n\n  const postComment = (e) => {\n\n    const body = JSON.stringify({ 'comment': { 'body': document.getElementById('comment-in').value } })\n    fetchApi(`articles/${art.slug}/comments`, {\n      method: 'POST',\n      body: body,\n      headers: {\n        'content-type': 'application/json;charset=UTF-8'\n      }\n    }, resp => {\n      if (resp.comment)\n        window.location.reload()\n    })\n  }\n\n\n  return (\n    <div className=\"row flex-edges\">\n      {user.id ? (<textarea id='comment-in' className=\"form-group col sm-8\" placeholder=\"My cordial thoughts...\"></textarea>) : null}\n      <button className='col sm-3'\n        onClick={postComment} disabled={user.id ? false : true}>\n        Comment\n      </button >\n    </div>\n  )\n}\n\nexport default CommentButton","import React from 'react'\nimport Comment from './Comment'\nimport CommentButton from './buttons/CommentButton'\n\nconst CommentCard = props => {\n  const coms = props.comments\n  return (\n    <div className='card'>\n      <div className=\"card-header\"><h3 className='margin-small'>Comments ({coms.length})</h3></div>\n      <div className='card-body'>\n        <div className='child-borders'>\n          {coms.reverse().map(c => (<Comment key={c.id} comment={c} article={props.article} />))}\n        </div>\n        <CommentButton article={props.article} />\n      </div>\n    </div>\n  )\n}\n\nexport default CommentCard","import React, { useEffect, useState, useContext } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { UserContext } from '../components/UserContext'\nimport UserButton from '../components/buttons/UserButton'\nimport FavoriteButton from '../components/buttons/FavoriteButton'\nimport CommentCard from '../components/CommentCard'\nimport Markdown from 'markdown-to-jsx'\n\n\nconst Article = (props) => {\n\n  const clientUser = useContext(UserContext)[0]\n  const fetchApi = useContext(UserContext)[2]\n  const [article, setArticle] = useState({})\n  const [comments, setComments] = useState([])\n\n  useEffect(() => {\n    const slug = props.match.params.slug\n    fetchApi(`articles/${slug}`, {}, d => {\n      if (d.article)\n        setArticle(d.article)\n    })\n    fetchApi(`articles/${slug}/comments`, {}, d => {\n      if (d.comments)\n        setComments(d.comments)\n    })\n  }, [props.match.params.slug, fetchApi])\n\n\n  if (article.title === undefined)\n    return (\n      <div></div>\n    )\n\n  const username = article.author.username\n\n  let tags;\n  if (article.tagList.length > 0)\n    tags = article.tagList.reduce((acc, cur) => `${acc} #${cur}`, '')\n\n  const editButton = (\n    <Link to={`/editor/${article.slug}`} className='paper-btn' style={{ float: 'right' }}>\n      ✎ Edit\n    </Link >\n  )\n  return (\n    <article className=\"article\">\n      {clientUser.username === username ? editButton : null}\n      <h1 className=\"article-title\">{article.title}</h1>\n      <p className=\"text-lead\">\n        {article.description}\n      </p>\n      <p className=\"article-meta\">\n        Written by <Link to={`/user/${username}`}>{username} </Link>\n        on {new Date(article.createdAt).toLocaleDateString()}\n      </p>\n      <Markdown>\n        {article.body}\n      </Markdown>\n      <p className=\"article-meta\"> {tags} </p>\n      <div className=\"squished-buttons margin-bottom-large\">\n        <FavoriteButton article={article} />\n        <UserButton user={article.author} />\n      </div>\n      <CommentCard comments={comments} article={article} />\n    </article>\n  )\n}\n\nexport default Article\n","import React, { useContext, useState } from 'react'\nimport { UserContext } from '../UserContext'\n\n\nconst FollowButton = (props) => {\n  const userCon = useContext(UserContext)\n  const user = userCon[0]\n  const fetchApi = userCon[2]\n\n  const profile = props.profile\n\n  const [following, setFollowing] = useState(profile.following)\n\n  const toggle = () => {\n    fetchApi(`profiles/${profile.username}/follow`, {\n      method: following ? 'DELETE' : 'POST',\n    }, resp => {\n      if (resp.profile) {\n        setFollowing(resp.profile.following)\n      }\n    })\n  }\n\n\n  return (\n    <button className={following ? 'btn-primary' : ''}\n      onClick={toggle} disabled={user.id ? false : true}>\n      {following ? 'Following ✔' : 'Follow ?'}\n    </button >\n  )\n}\n\n\nexport default FollowButton","import React, { useEffect, useState, useContext } from 'react'\nimport ArticleList from '../components/ArticleList'\nimport { QueryProvider } from '../components/QueryContext'\nimport { UserContext } from '../components/UserContext'\nimport FollowButton from '../components/buttons/FollowButton'\nimport { DEFAULT_AVATAR } from '../utils'\nimport { Redirect } from 'react-router-dom'\n\nconst User = (props) => {\n  const user = useContext(UserContext)[0]\n  const fetchApi = useContext(UserContext)[2]\n  const [profile, setProfile] = useState({})\n\n  useEffect(() => {\n    const user = props.match.params.user\n    fetchApi(`profiles/${user}`, {}, d => {\n      setProfile(d.profile)\n    })\n  }, [props.match.params.user, fetchApi])\n\n  if (!profile || profile.username === undefined)\n    return (\n      <div></div>\n    )\n\n  if (profile.username === user.username)\n    return (\n      <Redirect to='/profile' />\n    )\n\n  const bio = profile.bio ? profile.bio : `${profile.username} wishes to remain mysterious.`\n\n  const queryParams = {\n    author: profile.username,\n    limit: 10,\n    offset: 0\n  }\n\n  return (\n    <div>\n      <div className=\"card\" style={{ maxWidth: '20rem' }} >\n        <img src={profile.image || DEFAULT_AVATAR} className='avatar' alt='User Avatar' />\n        <div className=\"card-body\">\n          <h4 className=\"card-title\">{profile.username}</h4>\n          <h5 className=\"card-subtitle\">{bio}</h5>\n          <div className=\"row flex-center\">\n            <FollowButton profile={profile} />\n          </div>\n        </div>\n      </div>\n      <QueryProvider queryParams={queryParams} >\n        <ArticleList />\n      </QueryProvider>\n    </div>\n  )\n}\n\nexport default User\n","import React, { useState, useContext } from 'react'\nimport Splash from '../components/Splash'\nimport { UserContext } from '../components/UserContext'\n\nconst Login = props => {\n  const [user, setUser, fetchApi] = useContext(UserContext)\n  // 0 - logged out, 1 - logged in, 2 - error\n  const [authState, setAuthState] = useState(user.id ? 1 : 0)\n  const [errorMessages, setErrorMessages] = useState([])\n\n  const signup = props.match.path === '/signup'\n\n  const handleResponse = resp => {\n    if (resp.user) {\n      setAuthState(1)\n      setUser(resp.user)\n      localStorage.setItem('token', resp.user.token)\n    }\n    else if (!resp.ok) {\n      const errors = resp.errors\n      let messages = Object.keys(errors).map(\n        k => `${k}: ${errors[k].join(', ')}`\n      )\n      setErrorMessages(messages)\n\n      setAuthState(2)\n    }\n    else {\n      console.error(resp)\n    }\n  }\n\n  const submit = () => {\n    let email = document.getElementById('email').value\n    let password = document.getElementById('password').value\n\n    const body = {\n      \"user\": {\n        \"email\": email,\n        \"password\": password\n      }\n    }\n    if (signup) {\n      body[\"user\"][\"username\"] = document.getElementById('username').value\n    }\n\n    const endpoint = signup ? 'users' : 'users/login'\n    fetchApi(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }, handleResponse)\n\n  }\n\n  const error = (\n    <div className=\"alert alert-danger\" id='errorMsg'>\n      <p>\n        {signup ? 'Error registering' : 'Error logging in'}\n      </p>\n      <ul>\n        {errorMessages.map(m => (<li key={m}>{m}</li>))}\n      </ul>\n    </div>\n  )\n\n  const loginForm = (\n    <div>\n      <form className=\"form-group\">\n        <input className=\"input-block\" type=\"text\" placeholder=\"Email\" id=\"email\"\n          autoComplete='email' />\n        <br />\n        <input className=\"input-block\" type=\"password\" placeholder=\"Password\" id=\"password\"\n          autoComplete='current-password' />\n      </form>\n      <button onClick={submit}>Submit</button>\n    </div>\n  )\n\n  const signupForm = (\n    <div>\n      <form className=\"form-group\">\n        <input className=\"input-block\" type=\"text\" placeholder=\"Email\" id=\"email\"\n          autoComplete='email' />\n        <br />\n        <input className=\"input-block\" type=\"text\" placeholder=\"Username\" id=\"username\"\n          autoComplete='username' />\n        <br />\n        <input className=\"input-block\" type=\"password\" placeholder=\"Password\" id=\"password\"\n          autoComplete='new-password' />\n      </form>\n      <button onClick={submit}>Submit</button>\n    </div>\n  )\n\n  const success = (\n    <div className=\"alert alert-success\">Hi {user.username}! You are logged in.</div>\n  )\n\n  const form = signup ? signupForm : loginForm\n\n  const content = (\n    <div>\n      {authState === 2 ? error : null}\n      {authState !== 1 ? form : success}\n    </div>\n  )\n\n  return (\n    <div>\n      <Splash title={signup ? 'Sign up' : 'Sign in'}>\n        {content}\n      </Splash>\n    </div>\n  )\n}\nexport default Login\n","import React, { useContext } from 'react'\nimport ArticleList from '../components/ArticleList'\nimport { QueryProvider } from '../components/QueryContext'\nimport { UserContext } from '../components/UserContext'\nimport { DEFAULT_AVATAR } from '../utils'\nimport Splash from '../components/Splash'\nimport { Link } from 'react-router-dom'\n\nconst Profile = () => {\n  const user = useContext(UserContext)[0]\n\n  if (!user.id)\n    return (\n      <div className=\"alert alert-danger margin-top-large\">You must be logged in to see this page.</div>\n    )\n\n  const bio = user.bio ? user.bio : `${user.username} wishes to remain mysterious.`\n\n  const queryParams = {\n    author: user.username,\n    limit: 10,\n    offset: 0\n  }\n\n  return (\n    <div>\n      <div className=\"card\" style={{ maxWidth: '20rem' }} >\n        <img src={user.image || DEFAULT_AVATAR} className='avatar' alt='User Avatar' />\n        <div className=\"card-body\">\n          <h4 className=\"card-title\">{user.username}</h4>\n          <h5 className=\"card-subtitle\">{bio}</h5>\n          <div className='row flex-edges margin-top'>\n            <Link to='/editor' className='paper-btn'>\n              ✎ Create Article\n            </Link>\n            <Link to='/profile/settings' className='paper-btn'>\n              ⚙ Settings\n            </Link>\n          </div>\n        </div>\n      </div>\n      <Splash title='My Articles'>\n        <QueryProvider queryParams={queryParams} >\n          <ArticleList />\n        </QueryProvider>\n      </Splash>\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useContext, useState } from 'react'\nimport Splash from \"../components/Splash\"\nimport { UserContext } from '../components/UserContext'\n\nconst Settings = () => {\n  const [user, setUser, fetchApi] = useContext(UserContext)\n  const [formState, setFormState] = useState(0)\n  const [errorMessages, setErrorMessages] = useState([])\n\n  if (!user.id)\n    return (\n      <div className=\"alert alert-danger margin-top-large\">You must be logged in to see this page.</div>\n    )\n\n  const handleResponse = resp => {\n    if (resp.user) {\n      setUser(resp.user)\n      setFormState(1)\n    }\n    else if (!resp.ok) {\n      const errors = resp.errors\n      let messages = Object.keys(errors).map(\n        k => `${k}: ${errors[k].join(', ')}`\n      )\n      setErrorMessages(messages)\n\n      setFormState(2)\n    }\n    else {\n      console.error(resp)\n    }\n  }\n\n  const submit = () => {\n    const fields = ['email', 'username', 'password', 'image', 'bio']\n\n    const body = { 'user': {} }\n    fields.forEach(f => {\n      let val = document.getElementById(f).value\n      if (val !== '')\n        body['user'][f] = val\n    })\n\n    if (Object.entries(body['user']).length === 0)\n      return\n\n    fetchApi('user', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }, handleResponse)\n  }\n\n  const success = (\n    <div className=\"alert alert-success\">You have updated your profile!</div>\n  )\n\n  const error = (\n    <div className=\"alert alert-danger\" id='errorMsg'>\n      <p>Error updating profile</p>\n      <ul>\n        {errorMessages.map(m => (<li key={m}>{m}</li>))}\n      </ul>\n    </div>\n  )\n\n  const form = (\n    <div>\n      <form className=\"form-group\">\n        <input className=\"input-block\" type=\"text\" placeholder={user.email} id=\"email\"\n          autoComplete='email' />\n        <br />\n        <input className=\"input-block\" type=\"text\" placeholder={user.username} id=\"username\"\n          autoComplete='username' />\n        <br />\n        <input className=\"input-block\" type=\"password\" placeholder=\"New Password\" id=\"password\"\n          autoComplete='new-password' />\n        <br />\n        <input className=\"input-block\" type=\"text\" placeholder=\"Something about me...\" id=\"bio\" />\n        <br />\n        <input className=\"input-block\" type=\"text\" placeholder=\"Image URL\" id=\"image\" />\n      </form>\n      <button onClick={submit}>Submit</button>\n    </div >\n  )\n  return (\n    <Splash title='Settings'>\n      {formState === 2 ? error : null}\n      {formState !== 1 ? form : success}\n    </Splash>\n  )\n}\n\nexport default Settings","import React, { useContext, useEffect, useState } from 'react'\nimport Splash from \"../components/Splash\"\nimport { UserContext } from '../components/UserContext'\nimport { Link } from 'react-router-dom'\n\n\nconst Editor = props => {\n  const user = useContext(UserContext)[0]\n  const fetchApi = useContext(UserContext)[2]\n\n  // 0 - filling in, 1 - success, 2 - error, 3 - no auth\n  const [formState, setFormState] = useState(0)\n  const [errorMessages, setErrorMessages] = useState([])\n\n  let slug = props.match.params.slug\n  useEffect(() => {\n    if (slug) {\n      fetchApi(`articles/${slug}`, {}, resp => {\n        if (resp.article) {\n          const art = resp.article\n          if (art.author.username !== user.username) {\n            setFormState(3)\n          }\n          else {\n            setFormState(0)\n            document.getElementById('title').value = art.title\n            document.getElementById('description').value = art.description\n            document.getElementById('body').value = art.body\n            document.getElementById('tags').value = art.tagList.join(', ')\n          }\n        }\n      })\n    }\n    else {\n      if (user.id)\n        setFormState(0)\n      else\n        setFormState(3)\n    }\n  }, [slug, fetchApi, user.username, user.id])\n\n  const handleResponse = resp => {\n    if (resp.article) {\n      slug = resp.article.slug\n      setFormState(1)\n    }\n    else if (!resp.ok) {\n      const errors = resp.errors\n      let messages = Object.keys(errors).map(\n        k => `${k}: ${errors[k].join(', ')}`\n      )\n      setErrorMessages(messages)\n      setFormState(2)\n    }\n    else {\n      console.error(resp)\n    }\n  }\n\n  const submit = () => {\n    const fields = ['title', 'description', 'body']\n\n    const body = { 'article': {} }\n    const data = body['article']\n    fields.forEach(f => {\n      data[f] = document.getElementById(f).value\n    })\n\n    const tagText = document.getElementById('tags').value\n    if (tagText.length > 0)\n      data['tagList'] = tagText.split(', ')\n\n    const endpoint = slug ? `articles/${slug}` : 'articles'\n    fetchApi(endpoint, {\n      method: slug ? 'PUT' : 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }, handleResponse)\n  }\n\n  const success = (\n    <div>\n      <div className=\"alert alert-success\">Article {slug ? 'updated' : 'submitted'}!</div>\n      <Link className='paper-btn' to={`/article/${slug}`}>Read it!</Link>\n    </div>\n  )\n  const authError = (\n    <div className=\"alert alert-danger margin-top-large\">Authorization error. Are you logged in?</div>\n  )\n\n  const error = (\n    <div className=\"alert alert-danger\" id='errorMsg'>\n      <p>Error {slug ? 'updating' : 'submitting'} article</p>\n      <ul>\n        {errorMessages.map(m => (<li key={m}>{m}</li>))}\n      </ul>\n    </div>\n  )\n\n  const editorStyle = {\n    width: '100%',\n    minHeight: '10rem'\n  }\n\n  const deleteArticle = () => {\n    fetchApi(`articles/${slug}`, {\n      method: 'DELETE'\n    }, resp => {\n      props.history.push('/profile')\n    })\n  }\n\n  const deleteModal = (\n    <div style={{ float: 'right' }}>\n      <label className=\"paper-btn btn-danger margin-top\" htmlFor=\"delete-modal\">\n        🆇 Delete\n      </label>\n      <input className=\"modal-state\" id=\"delete-modal\" type=\"checkbox\" />\n      <div className=\"modal\" style={{ zIndex: 2 }}>\n        <label className=\"modal-bg\" htmlFor=\"delete-modal\"></label>\n        <div className=\"modal-body\">\n          <label className=\"btn-close\" htmlFor=\"delete-modal\">X</label>\n          <h4 className=\"modal-title\">Are you sure?</h4>\n          <h5 className=\"modal-text\">Click the button below to delete this article.</h5>\n          <button className='btn-danger' style={{ margin: 'auto', display: 'block' }}\n            onClick={deleteArticle}>\n            🆇 Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n\n  const form = (\n    <div>\n      <div className=\"form-group\">\n        <input type=\"text\" placeholder=\"Title\" id=\"title\" style={{ width: '60%' }} />\n      </div>\n      <div className=\"form-group\">\n        <input type=\"text\" placeholder=\"Description\" id=\"description\" style={{ width: '80%' }} />\n      </div>\n      <div className=\"form-group\">\n        <textarea placeholder=\"Article Body\" className='padding' id='body' style={editorStyle} />\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"tags\">Tags</label>\n        <input type=\"text\" placeholder=\"code, monkeys, pi\" id=\"tags\" style={{ width: '50%' }} />\n      </div>\n      <div>\n        <button className='margin-top' onClick={submit}>{slug ? 'Update' : 'Post'}</button>\n        {slug ? deleteModal : null}\n      </div>\n    </div>\n  )\n  if (formState === 3)\n    return (\n      <Splash title='Editor'>\n        {authError}\n      </Splash>\n    )\n  return (\n    <Splash title='Editor'>\n      {formState === 2 ? error : null}\n      {formState !== 1 ? form : success}\n    </Splash>\n  )\n}\n\nexport default Editor","import React from 'react'\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\nimport Nav from './components/Nav'\nimport Home from './pages/Home'\nimport About from './pages/About'\nimport Article from './pages/Article'\nimport User from './pages/User'\nimport './css/main.css'\nimport Login from './pages/Login'\nimport { UserProvider } from './components/UserContext'\nimport Profile from './pages/Profile'\nimport Settings from './pages/Settings'\nimport Editor from './pages/Editor'\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"paper container\">\n        <UserProvider>\n          <Nav />\n          <Switch>\n            <Route path='/' exact component={Home} />\n            <Route path='/about' exact component={About} />\n            <Route path='/profile' exact component={Profile} />\n            <Route path='/profile/settings' exact component={Settings} />\n            <Route path='/article/:slug' exact component={Article} />\n            <Route path='/user/:user' exact component={User} />\n            <Route path='/signin' exact component={Login} />\n            <Route path='/signup' exact component={Login} />\n            <Route path='/editor' exact component={Editor} />\n            <Route path='/editor/:slug' exact component={Editor} />\n          </Switch>\n        </UserProvider>\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}